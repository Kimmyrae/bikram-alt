"use strict";angular.module("bikramAltApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngStorage","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]),angular.module("bikramAltApp").controller("MainCtrl",["$scope","studiodb","$localStorage",function(a,b,c){a.storage=c,a.findStudios=function(){console.log(this),a.studiodb=b.query({location:a.city}).$promise.then(function(b){console.log(b),a.StudiosFound=b})},a.saveStudio=function(a){var b=!1;c.savedStudioList||(c.savedStudioList=[]);for(var d=0;d<c.savedStudioList.length;d++)c.savedStudioList[d]===a&&(console.log("Studio already saved"),b=!0);b||c.savedStudioList.push(a)},a.deleteStudio=function(a){var b=c.savedStudioList.indexOf(a);b>-1&&c.savedStudioList.splice(b,1)}}]),angular.module("bikramAltApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("bikramAltApp").factory("studiodb",["$resource",function(a){return a("http://mighty-scrubland-5742.herokuapp.com/?location=:location",{},{query:{method:"GET",params:{location:"Seattle"},isArray:!0}})}]),angular.module("bikramAltApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<header> <div class="jumbotron"> <div class="container"> <div class="row"> <div class="well center-block"> <h1 class="text-center">Find a Bikram Yoga Class</h1> <p class="lead" class="text-center">Enter your location to find Authentic Bikram Yoga</p> <div class="col-md-6 col-md-offset-3"> <div class="input-group input-group-lg" id="search-bar"> <input type="text" class="form-control" placeholder="Seattle, WA" ng-model="city"> <span class="input-group-btn"> <button data ng-click="findStudios()" class="btn btn-success" type="button"><i class="fa fa-search"></i></button> </span> </div> </div> </div> </div> </div> </div> </header> <!-- End Jumbotron and main images --> <!-- Results --> <section> <div class="studio-data"> <h2 class="studio-listing-heading" ng-if="StudiosFound">Studios Found</h2> <div class="individual-studio-data" ng-if="StudiosFound"> <dl class="results" ng-repeat="studio in StudiosFound | limitTo: 6"> <dt>Studio Name</dt> <dd>{{studio.name}} </dd> <dt>Location</dt> <dd>{{studio.address}} </dd> <dt>Website</dt> <dd>{{studio.website}}</dd> <!-- <dt>Photo</dt>\n          <dd><img ng-src="{{studio.imgUrl}}"/></dd> --> <p class="save-button-container"> <button class="btn btn-xs btn-default" ng-click="saveStudio(studio)">Save This Studio!</button></p> </dl> </div> </div> </section> <!-- End results --> <!-- show local storage--> <section> <div class="saved"> <h2 class="studio-listing-heading">My Saved Studios</h2> <dl class="myStudios" ng-repeat="studio in storage.savedStudioList"> <dt>Studio</dt> <dd>{{studio.name}}</dd> <dt>Location</dt> <dd>{{studio.address}} </dd> <dt>Website</dt> <dd>{{studio.website}}</dd> <!--    <dt>Photo</dt>\n        <dd><img ng-src="{{studio.imgUrl}}"/></dd> --> <p class="save-button-container"> <button class="btn btn-xs btn-default" ng-click="deleteStudio(studio)">Remove</button></p> </dl> </div> </section>')}]);